# Redis interview\(一\) 缓存

## 1 缓存是什么？用途是？

> 缓存的目的是把读写速度慢的介质的数据保存到读写速度快的介质上，从而提高读写速度，减少时间消耗。

## 2 缓存算法

* LRU: 最近最少使用
* LFU: 最不经常使用
* FIFO 先进先出

## 3 常见的缓存工具和框架

本地缓存：guava/ehcache/caffeine. Ehcache 功能更丰富，Caffeine 性能比其他两者好。

分布式缓存：Redis、memcached.

## 4 用了缓存，带来的问题

### 4.1 写入问题：

* 缓存何时 **写入**? 并且写时避免并发重复写入？
* 缓存如何**失效**?
* 缓存和DB的**一致性**如何保证？

### 4.2 经典三连问

* 如何避免缓存**穿透**的问题？
* 如何避免缓存**击穿**的问题？
* 如何避免缓存**雪崩**的问题？

## 5 查询缓存报错，如果提高可用性？

一般情况下，如果异常出现，需要手动捕获这个异常，并且记录日志，从数据库返回数据给用户，而不应该导致业务不可用。

## 6 缓存穿透

### 6.1 缓存穿透讲解

缓存穿透，是指查询一个一定**不存在**的数据，由于缓存是不命中时被动写，并且处于容错考虑，如果从 DB 查不到数据则不写入缓存，这将导致这个不存在的数据每次请求都要到 DB 去查询，失去了缓存的意义。流量大时，可能DB就直接挂掉了。

![](../.gitbook/assets/image%20%28118%29.png)

一定要注意，**缓存穿透**，指的是查询一个**不存在**的数据，很容器和我们要讲到的**缓存击穿**搞混淆。



### 6.2 解决方案

#### 6.2.1 方案一、缓存空对象



#### 6.2.2 使用布隆过滤器



## 7 缓存雪崩



## 8 缓存击穿

## 9 缓存一致性

## 10 缓存预热

## 

## 11 缓存淘汰策略

## 

## 12 缓存存储pojo 对象 

